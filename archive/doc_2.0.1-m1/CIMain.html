<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Jagger: Continuous Integration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Jagger
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<link href="tab-panel.css" rel="stylesheet" type="text/css">
  <script language="type="text/javascript"JavaScript" type="text/javascript" src="tab-panel.js">
  </script></head>
</head>
<body onload="bodyOnLoad()" onresize="raisePanel(currentMenuIndex)">
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('CIMain.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Continuous Integration </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This chapter describes approach for continuous performance testing with help of the Jagger framework <br/>
</p>
<p><br/>
 </p>
<ul>
<li><a class="el" href="CIMain.html#section_ci_cpt">Continuous performance testing</a> </li>
<li><a class="el" href="CIMain.html#section_ci_requirements">Requirements to the framework to support CPT</a> </li>
<li><a class="el" href="CIMain.html#section_ci_jagger">Jagger framework as a tool for CPT</a> </li>
<li><a class="el" href="CIMain.html#section_ci_jagger_deploy_plugin">Jagger deployment plugin</a> </li>
<li><a class="el" href="CIMain.html#section_ci_jagger_jaas_plugin">Jagger JaaS plugin</a></li>
</ul>
<h1><a class="anchor" id="section_ci_cpt"></a>
Continuous performance testing</h1>
<dl class="section user"><dt>Anti patterns of performance testing</dt><dd>Unfortunately performance testing quite often:<ul>
<li>is provided directly before release when code changes are already locked. As results issues can be found too late</li>
<li>is provided not regularly. As result it is difficult to identify when performance issues were introduced</li>
<li>is provided outside of development process (e.g. by regression team or external vendor). As a result team doesn't have access to all details</li>
</ul>
</dd></dl>
<p>To resolve mentioned issues, we are recommending to make performance testing part of the Continuous Integration process</p>
<dl class="section user"><dt>Continuous Performance Testing</dt><dd>Continuous Performance Testing (CPT) helps to catch problems during development (not release) process. When performance tests are the part of CI we can split load testing to several types and execute them on the regular basis.<br/>
 As example <br/>
 <div class="image">
<img src="ci_cpt.jpg" alt="ci_cpt.jpg"/>
<div class="caption">
Performance testing as a part of CI pipeline</div></div>
 In this example we separate tests to following types: <ul>
<li>Performance smoke testing: Applied to an isolated service via an API, this test measures the response times of certain critical performance-sensitive operations. It is fast and cheap. It rises alerts when degradation is detected </li>
<li>Performance regression testing: These tests measure simulated performance characteristics of typical user scenarios, such as placing item in a shopping bag, placing a product order, etc. We are focused on business scenarios performance. We collect performance metrics of the users steps and API calls. Test rises alerts when degradation is detected </li>
<li>End-to-end (E2E) performance testing: Full user scenarios, including UI, backend, and all required external 3rd party services, configured in production-like environments with realistic data volumes</li>
</ul>
You can find more reading about CPT at <a href="http://blog.griddynamics.com/topic/test-automation" target="_blank">our blog</a> </dd></dl>
<h1><a class="anchor" id="section_ci_requirements"></a>
Requirements to the framework to support CPT</h1>
<p>Framework should:</p>
<ul>
<li>store test results</li>
<li>build trends for measured parameters</li>
<li>compare test results to baseline session (golden result) or reference values</li>
<li>take automatic decisions and rise flags</li>
<li>support CI integration</li>
</ul>
<h1><a class="anchor" id="section_ci_jagger"></a>
Jagger framework as a tool for CPT</h1>
<p>From the very start framework is designed to be a part of CI. It is small, has high performance and low resources consumption, as pure java it can be launched on any platform (on premises or in the cloud), it has small deployment time. <br/>
 <br/>
 Framework is storing all measured results and is able to build results trends in the <a class="el" href="WebUiMain.html">Web UI</a> - deviation of the results from execution to execution <br/>
 </p>
<div class="image">
<img src="webUI_trends_new.png" alt="webUI_trends_new.png"/>
<div class="caption">
Trend plots</div></div>
<p><br/>
 Framework is supporting <a class="el" href="MainDecisionMaker.html">decision making and alert rising</a> <br/>
 </p>
<div class="image">
<img src="webUI_metrics_highlighting.png" alt="webUI_metrics_highlighting.png"/>
<div class="caption">
Decision per particular metrics</div></div>
<p><br/>
 Framework can be part of the Jenkins CI pipelines</p>
<h1><a class="anchor" id="section_ci_jagger_deploy_plugin"></a>
Jagger deployment plugin</h1>
<p>Deploys Jagger via ssh to specified environment. Allows to configure and deploy Jagger components (Master/Coordinator, Kernels, Agents) to the dedicated environment without scripting. Plugin allows to launch component in the <a class="el" href="ComponentsLoadGenExecutionModes.html">single node and distributed modes</a> <br/>
 <br/>
 Latest version of the deployment plugin you can find <a href="https://nexus.griddynamics.net/nexus/content/repositories/jagger-releases/com/griddynamics/jagger/jagger-jenkins-plugin/" target="_blank">in the nexus</a>  <br/>
 <br/>
 Plugin allows to: </p>
<ul>
<li>setup Master/Coordinator node and set additional system properties if necessary <div class="image">
<img src="ci_deploy_node.png" alt="ci_deploy_node.png"/>
<div class="caption">
Master node setup</div></div>
</li>
<li>optional: setup Kernel node(s) and set additional system properties if necessary </li>
<li>optional: setup Agent node(s) and set additional system properties if necessary </li>
<li>specify where test results will be stores <div class="image">
<img src="ci_deploy_db.png" alt="ci_deploy_db.png"/>
<div class="caption">
Results database setup</div></div>
</li>
<li>define what test scenario will be executed and provide additional setup via properties <div class="image">
<img src="ci_deploy_test_project.png" alt="ci_deploy_test_project.png"/>
<div class="caption">
Test project setup</div></div>
 </li>
</ul>
<h1><a class="anchor" id="section_ci_jagger_jaas_plugin"></a>
Jagger JaaS plugin</h1>
<p>Controls test execution on the performance test environment(s) via JaaS REST API. It allows to submit test projects to the running test environment with Jagger load generating components. As you know from the <a class="el" href="ComponentsControlExecModes.html#section_components_exec_control_stand_by">Running in the Stand by mode</a> chapter load generating components can run on some environment in the stand by mode waiting for test projects to execute. This plugin can submit test projects for execution <br/>
 <br/>
 Latest version of the deployment plugin you can find <a href="https://nexus.griddynamics.net/nexus/content/repositories/jagger-releases/com/griddynamics/jagger/jagger-jaas-jenkins-plugin/" target="_blank">in the nexus</a>  <br/>
 <br/>
 Possible workflow </p>
<ul>
<li>you are configuring and starting performance test environment in your CI pipeline </li>
<li>you are configuring and starting Jagger load generating components on this environment </li>
<li>you submit one or multiple performance test projects to this environment with help of the Jenkins JaaS plugin without restarting load generating components</li>
</ul>
<p>In this case Jagger framework is working as a test service and you can send new tests to this service via API <br/>
 <br/>
 Plugin allows to: </p>
<ul>
<li>send your test project to the test environment via API </li>
<li>start particular load scenario from your project <div class="image">
<img src="ci_jaas.png" alt="ci_jaas.png"/>
<div class="caption">
Test project start via API</div></div>
 </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Mar 2 2017 19:17:16 for Jagger by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
